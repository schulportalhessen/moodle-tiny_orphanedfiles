define("tiny_orphanedfiles/main",["exports","core/config","./orphanedfilesmanager","editor_tiny/options","./options"],(function(_exports,_config,_orphanedfilesmanager,_options,_options2){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Storage helper for the Moodle Tiny orphanedfiles plugin.
   *
   * @module     tiny_orphanedfiles/plugin
   * @copyright  2023 Andreas Siebel <andreas.siebel@schulportal.hessen.de>
   * @copyright  2023 Andreas Schenkel <andreas.schenkel@schulportal.hessen.de>
   * @author     2023 Andreas Siebel <andreas.siebel@schulportal.hessen.de>
   * @author     2023 Andreas Schenkel <andreas.schenkel@schulportal.hessen.de>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.register=void 0,_config=_interopRequireDefault(_config),_orphanedfilesmanager=_interopRequireDefault(_orphanedfilesmanager);_exports.register=editor=>{let orphanedfilesmanager=null;editor.on("input",(()=>{orphanedfilesmanager.update()})),editor.on("Undo",(()=>{orphanedfilesmanager.update()})),editor.on("Redo",(()=>{orphanedfilesmanager.update()})),editor.on("focus",(()=>{orphanedfilesmanager.update()})),editor.on("init",(()=>{const params={wwwRoot:_config.default.wwwroot,contextId:(0,_options.getContextId)(editor),draftItemId:(0,_options.getDraftItemId)(editor),userContextId:(0,_options2.getUserContextId)(editor),showReferenceCountEnabled:(0,_options2.getShowReferencecountEnabled)(editor),orphanedFilesCounterOnly:(0,_options2.getOrphanedFilesCounterOnly)(editor)};orphanedfilesmanager=new _orphanedfilesmanager.default(params,editor),orphanedfilesmanager.createOrphanedArea(),orphanedfilesmanager.update()}))}}));

//# sourceMappingURL=main.min.js.map